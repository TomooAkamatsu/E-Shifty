{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { useBoolean, useControllableState, useDimensions, useCallbackRef, useEventListener, useIds, useUnmountEffect, useUpdateEffect } from \"@chakra-ui/hooks\";\nimport { ariaAttr, callAllHandlers, clampValue, dataAttr, focus, getBox, getOwnerDocument, isRightClick, mergeRefs, normalizeEventKey, percentToValue, roundValueToStep, valueToPercent } from \"@chakra-ui/utils\";\nimport { useCallback, useMemo, useRef, useState } from \"react\";\n/**\n * React hook that implements an accessible range slider.\n *\n * It is an alternative to `<input type=\"range\" />`, and returns\n * prop getters for the component parts\n *\n * @see Docs     https://chakra-ui.com/docs/form/slider\n * @see WAI-ARIA https://www.w3.org/TR/wai-aria-practices-1.1/#slider\n */\n\nexport function useSlider(props) {\n  var _getAriaValueText, _thumbBoxModel$border;\n\n  var {\n    min = 0,\n    max = 100,\n    onChange,\n    value: valueProp,\n    defaultValue,\n    isReversed,\n    orientation,\n    id: idProp,\n    isDisabled,\n    isReadOnly,\n    onChangeStart,\n    onChangeEnd,\n    step = 1,\n    getAriaValueText,\n    \"aria-valuetext\": ariaValueText,\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledBy,\n    name,\n    focusThumbOnChange = true\n  } = props,\n      htmlProps = _objectWithoutPropertiesLoose(props, [\"min\", \"max\", \"onChange\", \"value\", \"defaultValue\", \"isReversed\", \"orientation\", \"id\", \"isDisabled\", \"isReadOnly\", \"onChangeStart\", \"onChangeEnd\", \"step\", \"getAriaValueText\", \"aria-valuetext\", \"aria-label\", \"aria-labelledby\", \"name\", \"focusThumbOnChange\"]);\n\n  var [isDragging, setDragging] = useBoolean();\n  var [isFocused, setFocused] = useBoolean();\n  var [eventSource, setEventSource] = useState();\n  var isInteractive = !(isDisabled || isReadOnly);\n  /**\n   * Enable the slider handle controlled and uncontrolled scenarios\n   */\n\n  var [computedValue, setValue] = useControllableState({\n    value: valueProp,\n    defaultValue: defaultValue != null ? defaultValue : getDefaultValue(min, max),\n    onChange\n  });\n  /**\n   * Slider uses DOM APIs to add and remove event listeners.\n   * Noticed some issues with React's synthetic events.\n   *\n   * We use `ref` to save the functions used to remove\n   * the event listeners.\n   *\n   * Ideally, we'll love to use pointer-events API but it is\n   * not fully supported in all browsers.\n   */\n\n  var cleanUpRef = useRef({});\n  /**\n   * Constrain the value because it can't be less than min\n   * or greater than max\n   */\n\n  var value = clampValue(computedValue, min, max);\n  var prev = useRef();\n  var reversedValue = max - value + min;\n  var trackValue = isReversed ? reversedValue : value;\n  var trackPercent = valueToPercent(trackValue, min, max);\n  var isVertical = orientation === \"vertical\";\n  /**\n   * Let's keep a reference to the slider track and thumb\n   */\n\n  var trackRef = useRef(null);\n  var thumbRef = useRef(null);\n  var rootRef = useRef(null);\n  /**\n   * Generate unique ids for component parts\n   */\n\n  var [thumbId, trackId] = useIds(idProp, \"slider-thumb\", \"slider-track\");\n  /**\n   * Get relative value of slider from the event by tracking\n   * how far you clicked within the track to determine the value\n   */\n\n  var getValueFromPointer = useCallback(event => {\n    var _event$touches$, _event$touches;\n\n    if (!trackRef.current) return undefined;\n    var trackRect = getBox(trackRef.current).borderBox;\n    var {\n      clientX,\n      clientY\n    } = (_event$touches$ = (_event$touches = event.touches) == null ? void 0 : _event$touches[0]) != null ? _event$touches$ : event;\n    var diff = isVertical ? trackRect.bottom - clientY : clientX - trackRect.left;\n    var length = isVertical ? trackRect.height : trackRect.width;\n    var percent = diff / length;\n\n    if (isReversed) {\n      percent = 1 - percent;\n    }\n\n    var nextValue = percentToValue(percent, min, max);\n\n    if (step) {\n      nextValue = parseFloat(roundValueToStep(nextValue, min, step));\n    }\n\n    nextValue = clampValue(nextValue, min, max);\n    return nextValue;\n  }, [isVertical, isReversed, max, min, step]);\n  var tenSteps = (max - min) / 10;\n  var oneStep = step || (max - min) / 100;\n  var constrain = useCallback(value => {\n    // bail out if slider isn't interactive\n    if (!isInteractive) return;\n    prev.current = value;\n    value = parseFloat(roundValueToStep(value, min, oneStep));\n    value = clampValue(value, min, max);\n    setValue(value);\n  }, [oneStep, max, min, setValue, isInteractive]);\n  var actions = useMemo(() => ({\n    stepUp: function stepUp(step) {\n      if (step === void 0) {\n        step = oneStep;\n      }\n\n      var next = isReversed ? value - step : value + step;\n      constrain(next);\n    },\n    stepDown: function stepDown(step) {\n      if (step === void 0) {\n        step = oneStep;\n      }\n\n      var next = isReversed ? value + step : value - step;\n      constrain(next);\n    },\n    reset: () => constrain(defaultValue || 0),\n    stepTo: value => constrain(value)\n  }), [constrain, isReversed, value, oneStep, defaultValue]);\n  /**\n   * Keyboard interaction to ensure users can operate\n   * the slider using only their keyboard.\n   */\n\n  var onKeyDown = useCallback(event => {\n    var eventKey = normalizeEventKey(event);\n    var keyMap = {\n      ArrowRight: () => actions.stepUp(),\n      ArrowUp: () => actions.stepUp(),\n      ArrowLeft: () => actions.stepDown(),\n      ArrowDown: () => actions.stepDown(),\n      PageUp: () => actions.stepUp(tenSteps),\n      PageDown: () => actions.stepDown(tenSteps),\n      Home: () => constrain(min),\n      End: () => constrain(max)\n    };\n    var action = keyMap[eventKey];\n\n    if (action) {\n      event.preventDefault();\n      event.stopPropagation();\n      setEventSource(\"keyboard\");\n      action(event);\n    }\n  }, [actions, constrain, max, min, tenSteps]);\n  /**\n   * ARIA (Optional): To define a human readable representation of the value,\n   * we allow users pass aria-valuetext.\n   */\n\n  var valueText = (_getAriaValueText = getAriaValueText == null ? void 0 : getAriaValueText(value)) != null ? _getAriaValueText : ariaValueText;\n  /**\n   * Measure the dimensions of the thumb so\n   * we can center it within the track properly\n   */\n\n  var thumbBoxModel = useDimensions(thumbRef);\n  var thumbRect = (_thumbBoxModel$border = thumbBoxModel == null ? void 0 : thumbBoxModel.borderBox) != null ? _thumbBoxModel$border : {\n    width: 0,\n    height: 0\n  };\n  /**\n   * Compute styles for all component parts.\n   */\n\n  var thumbStyle = _extends({\n    position: \"absolute\",\n    userSelect: \"none\",\n    touchAction: \"none\"\n  }, orient({\n    orientation,\n    vertical: {\n      bottom: \"calc(\" + trackPercent + \"% - \" + thumbRect.height / 2 + \"px)\"\n    },\n    horizontal: {\n      left: \"calc(\" + trackPercent + \"% - \" + thumbRect.width / 2 + \"px)\"\n    }\n  }));\n\n  var rootStyle = _extends({\n    position: \"relative\",\n    touchAction: \"none\",\n    WebkitTapHighlightColor: \"rgba(0,0,0,0)\",\n    userSelect: \"none\",\n    outline: 0\n  }, orient({\n    orientation,\n    vertical: {\n      paddingLeft: thumbRect.width / 2,\n      paddingRight: thumbRect.width / 2\n    },\n    horizontal: {\n      paddingTop: thumbRect.height / 2,\n      paddingBottom: thumbRect.height / 2\n    }\n  }));\n\n  var trackStyle = _extends({\n    position: \"absolute\"\n  }, orient({\n    orientation,\n    vertical: {\n      left: \"50%\",\n      transform: \"translateX(-50%)\",\n      height: \"100%\"\n    },\n    horizontal: {\n      top: \"50%\",\n      transform: \"translateY(-50%)\",\n      width: \"100%\"\n    }\n  }));\n\n  var innerTrackStyle = _extends({}, trackStyle, orient({\n    orientation,\n    vertical: isReversed ? {\n      height: 100 - trackPercent + \"%\",\n      top: 0\n    } : {\n      height: trackPercent + \"%\",\n      bottom: 0\n    },\n    horizontal: isReversed ? {\n      width: 100 - trackPercent + \"%\",\n      right: 0\n    } : {\n      width: trackPercent + \"%\",\n      left: 0\n    }\n  }));\n\n  useUpdateEffect(() => {\n    if (thumbRef.current && focusThumbOnChange) {\n      focus(thumbRef.current);\n    }\n  }, [value]);\n  useUpdateEffect(() => {\n    var shouldUpdate = !isDragging && eventSource !== \"keyboard\" && prev.current !== value;\n\n    if (shouldUpdate) {\n      onChangeEnd == null ? void 0 : onChangeEnd(value);\n    }\n\n    if (eventSource === \"keyboard\") {\n      onChangeEnd == null ? void 0 : onChangeEnd(value);\n    }\n  }, [isDragging, onChangeEnd, value, eventSource]);\n  var onMouseDown = useCallbackRef(event => {\n    /**\n     * Prevent update if it is right-click\n     */\n    if (isRightClick(event)) return;\n    if (!isInteractive || !rootRef.current) return;\n    setDragging.on();\n    prev.current = value;\n    onChangeStart == null ? void 0 : onChangeStart(value);\n    var doc = getOwnerDocument(rootRef.current);\n\n    var run = event => {\n      var nextValue = getValueFromPointer(event);\n\n      if (nextValue != null) {\n        setEventSource(\"mouse\");\n        setValue(nextValue);\n      }\n    };\n\n    run(event);\n    doc == null ? void 0 : doc.addEventListener(\"mousemove\", run);\n\n    var clean = () => {\n      doc == null ? void 0 : doc.removeEventListener(\"mousemove\", run);\n      setDragging.off();\n    };\n\n    doc == null ? void 0 : doc.addEventListener(\"mouseup\", clean);\n\n    cleanUpRef.current.mouseup = () => {\n      doc == null ? void 0 : doc.removeEventListener(\"mouseup\", clean);\n    };\n  });\n  var onTouchStart = useCallbackRef(event => {\n    if (!isInteractive || !rootRef.current) return; // Prevent scrolling for touch events\n\n    event.preventDefault();\n    setDragging.on();\n    prev.current = value;\n    onChangeStart == null ? void 0 : onChangeStart(value);\n    var doc = getOwnerDocument(rootRef.current);\n\n    var run = event => {\n      var nextValue = getValueFromPointer(event);\n\n      if (nextValue != null) {\n        setEventSource(\"touch\");\n        setValue(nextValue);\n      }\n    };\n\n    run(event);\n    doc == null ? void 0 : doc.addEventListener(\"touchmove\", run);\n\n    var clean = () => {\n      doc == null ? void 0 : doc.removeEventListener(\"touchmove\", run);\n      setDragging.off();\n    };\n\n    doc == null ? void 0 : doc.addEventListener(\"touchend\", clean);\n    doc == null ? void 0 : doc.addEventListener(\"touchcancel\", clean);\n\n    cleanUpRef.current.touchend = () => {\n      doc == null ? void 0 : doc.removeEventListener(\"touchend\", clean);\n    };\n\n    cleanUpRef.current.touchcancel = () => {\n      doc == null ? void 0 : doc.removeEventListener(\"touchcancel\", clean);\n    };\n  });\n  /**\n   * Remove all event handlers\n   */\n\n  var detach = () => {\n    Object.values(cleanUpRef.current).forEach(cleanup => {\n      cleanup == null ? void 0 : cleanup();\n    });\n    cleanUpRef.current = {};\n  };\n  /**\n   * Ensure we clean up listeners when slider unmounts\n   */\n\n\n  useUnmountEffect(detach);\n  useUpdateEffect(() => {\n    if (!isDragging) detach();\n  }, [isDragging]);\n  cleanUpRef.current.mousedown = useEventListener(\"mousedown\", onMouseDown, rootRef.current);\n  cleanUpRef.current.touchstart = useEventListener(\"touchstart\", onTouchStart, rootRef.current);\n\n  var getRootProps = function getRootProps(props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, htmlProps, {\n      ref: mergeRefs(ref, rootRef),\n      tabIndex: -1,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      \"data-focused\": dataAttr(isFocused),\n      style: _extends({}, props.style, rootStyle)\n    });\n  };\n\n  var getTrackProps = function getTrackProps(props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      ref: mergeRefs(ref, trackRef),\n      id: trackId,\n      \"data-disabled\": dataAttr(isDisabled),\n      style: _extends({}, props.style, trackStyle)\n    });\n  };\n\n  var getInnerTrackProps = function getInnerTrackProps(props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      ref,\n      style: _extends({}, props.style, innerTrackStyle)\n    });\n  };\n\n  var getThumbProps = function getThumbProps(props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      ref: mergeRefs(ref, thumbRef),\n      role: \"slider\",\n      tabIndex: 0,\n      id: thumbId,\n      \"data-active\": dataAttr(isDragging),\n      \"aria-valuetext\": valueText,\n      \"aria-valuemin\": min,\n      \"aria-valuemax\": max,\n      \"aria-valuenow\": value,\n      \"aria-orientation\": orientation,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      \"aria-readonly\": ariaAttr(isReadOnly),\n      \"aria-label\": ariaLabel,\n      \"aria-labelledby\": ariaLabel ? undefined : ariaLabelledBy,\n      style: _extends({}, props.style, thumbStyle),\n      onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown),\n      onFocus: callAllHandlers(props.onFocus, setFocused.on),\n      onBlur: callAllHandlers(props.onBlur, setFocused.off)\n    });\n  };\n\n  var getMarkerProps = function getMarkerProps(props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    var isInRange = !(props.value < min || props.value > max);\n    var isHighlighted = value >= props.value;\n    var markerPercent = valueToPercent(props.value, min, max);\n\n    var markerStyle = _extends({\n      position: \"absolute\",\n      pointerEvents: \"none\"\n    }, orient({\n      orientation,\n      vertical: {\n        bottom: isReversed ? 100 - markerPercent + \"%\" : markerPercent + \"%\"\n      },\n      horizontal: {\n        left: isReversed ? 100 - markerPercent + \"%\" : markerPercent + \"%\"\n      }\n    }));\n\n    return _extends({}, props, {\n      ref,\n      role: \"presentation\",\n      \"aria-hidden\": true,\n      \"data-disabled\": dataAttr(isDisabled),\n      \"data-invalid\": dataAttr(!isInRange),\n      \"data-highlighted\": dataAttr(isHighlighted),\n      style: _extends({}, props.style, markerStyle)\n    });\n  };\n\n  var getInputProps = function getInputProps(props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      ref,\n      type: \"hidden\",\n      value,\n      name\n    });\n  };\n\n  return {\n    state: {\n      value,\n      isFocused,\n      isDragging\n    },\n    actions,\n    getRootProps,\n    getTrackProps,\n    getInnerTrackProps,\n    getThumbProps,\n    getMarkerProps,\n    getInputProps\n  };\n}\n\nfunction orient(options) {\n  var {\n    orientation,\n    vertical,\n    horizontal\n  } = options;\n  return orientation === \"vertical\" ? vertical : horizontal;\n}\n/**\n * The browser <input type=\"range\" /> calculates\n * the default value of a slider by using mid-point\n * between the min and the max.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/range\n */\n\n\nfunction getDefaultValue(min, max) {\n  return max < min ? min : min + (max - min) / 2;\n}","map":{"version":3,"sources":["../../src/use-slider.ts"],"names":["min","max","value","id","step","focusThumbOnChange","htmlProps","useBoolean","useState","isInteractive","isDisabled","useControllableState","defaultValue","getDefaultValue","onChange","cleanUpRef","useRef","clampValue","prev","reversedValue","trackValue","isReversed","trackPercent","valueToPercent","isVertical","orientation","trackRef","thumbRef","rootRef","useIds","getValueFromPointer","useCallback","event","trackRect","getBox","clientY","diff","clientX","length","percent","nextValue","percentToValue","parseFloat","roundValueToStep","tenSteps","oneStep","constrain","setValue","actions","useMemo","stepUp","next","stepDown","reset","stepTo","onKeyDown","eventKey","normalizeEventKey","keyMap","ArrowRight","ArrowUp","ArrowLeft","ArrowDown","PageUp","PageDown","Home","End","action","setEventSource","valueText","getAriaValueText","thumbBoxModel","useDimensions","thumbRect","width","height","thumbStyle","position","userSelect","touchAction","orient","vertical","bottom","horizontal","left","rootStyle","WebkitTapHighlightColor","outline","paddingLeft","paddingRight","paddingTop","paddingBottom","trackStyle","transform","top","innerTrackStyle","right","useUpdateEffect","focus","shouldUpdate","eventSource","onChangeEnd","onMouseDown","useCallbackRef","isRightClick","setDragging","onChangeStart","doc","getOwnerDocument","run","clean","onTouchStart","detach","Object","cleanup","useUnmountEffect","useEventListener","getRootProps","props","ref","mergeRefs","tabIndex","ariaAttr","dataAttr","style","getTrackProps","getInnerTrackProps","getThumbProps","role","ariaLabel","callAllHandlers","onFocus","setFocused","onBlur","getMarkerProps","isInRange","isHighlighted","markerPercent","markerStyle","pointerEvents","getInputProps","type","name","state","isDragging"],"mappings":"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","sourcesContent":["import {\n  useBoolean,\n  useControllableState,\n  useDimensions,\n  useCallbackRef,\n  useEventListener,\n  useIds,\n  useUnmountEffect,\n  useUpdateEffect,\n} from \"@chakra-ui/hooks\"\nimport {\n  ariaAttr,\n  callAllHandlers,\n  clampValue,\n  dataAttr,\n  Dict,\n  EventKeyMap,\n  focus,\n  getBox,\n  getOwnerDocument,\n  isRightClick,\n  mergeRefs,\n  normalizeEventKey,\n  percentToValue,\n  PropGetter,\n  roundValueToStep,\n  valueToPercent,\n} from \"@chakra-ui/utils\"\nimport { CSSProperties, useCallback, useMemo, useRef, useState } from \"react\"\n\nexport interface UseSliderProps {\n  /**\n   * The minimum allowed value of the slider. Cannot be greater than max.\n   * @default 0\n   */\n  min?: number\n  /**\n   * The maximum allowed value of the slider. Cannot be less than min.\n   * @default 100\n   */\n  max?: number\n  /**\n   * The step in which increments/decrements have to be made\n   * @default 1\n   */\n  step?: number\n  /**\n   * The value of the slider in controlled mode\n   */\n  value?: number\n  /**\n   * The initial value of the slider in uncontrolled mode\n   */\n  defaultValue?: number\n  /**\n   * orientation of the slider\n   * @default \"horizontal\"\n   */\n  orientation?: \"horizontal\" | \"vertical\"\n  /**\n   * If `true`, the value will be incremented or decremented in reverse.\n   */\n  isReversed?: boolean\n  /**\n   * function gets called whenever the user starts dragging the slider handle\n   */\n  onChangeStart?(value: number): void\n  /**\n   * function gets called whenever the user stops dragging the slider handle.\n   */\n  onChangeEnd?(value: number): void\n  /**\n   * function gets called whenever the slider handle is being dragged or clicked\n   */\n  onChange?(value: number): void\n  /**\n   * The base `id` to use for the slider and its components\n   */\n  id?: string\n  /**\n   * The name attribute of the hidden `input` field.\n   * This is particularly useful in forms\n   */\n  name?: string\n  /**\n   * If `true`, the slider will be disabled\n   */\n  isDisabled?: boolean\n  /**\n   * If `true`, the slider will be in `read-only` state\n   */\n  isReadOnly?: boolean\n  /**\n   * Function that returns the `aria-valuetext` for screen readers.\n   * It is mostly used to generate a more human-readable\n   * representation of the value for assistive technologies\n   */\n  getAriaValueText?(value: number): string\n  /**\n   * If `false`, the slider handle will not capture focus when value changes.\n   * @default true\n   */\n  focusThumbOnChange?: boolean\n  /**\n   * The static string to use used for `aria-valuetext`\n   */\n  \"aria-valuetext\"?: string\n  /**\n   * The static string to use used for `aria-label`\n   * if no visible label is used.\n   */\n  \"aria-label\"?: string\n  /**\n   * The static string `aria-labelledby` that points to the\n   * ID of the element that serves as label for the slider\n   */\n  \"aria-labelledby\"?: string\n}\n\ntype EventSource = \"mouse\" | \"touch\" | \"keyboard\"\n\n/**\n * React hook that implements an accessible range slider.\n *\n * It is an alternative to `<input type=\"range\" />`, and returns\n * prop getters for the component parts\n *\n * @see Docs     https://chakra-ui.com/docs/form/slider\n * @see WAI-ARIA https://www.w3.org/TR/wai-aria-practices-1.1/#slider\n */\nexport function useSlider(props: UseSliderProps) {\n  const {\n    min = 0,\n    max = 100,\n    onChange,\n    value: valueProp,\n    defaultValue,\n    isReversed,\n    orientation,\n    id: idProp,\n    isDisabled,\n    isReadOnly,\n    onChangeStart,\n    onChangeEnd,\n    step = 1,\n    getAriaValueText,\n    \"aria-valuetext\": ariaValueText,\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledBy,\n    name,\n    focusThumbOnChange = true,\n    ...htmlProps\n  } = props\n\n  const [isDragging, setDragging] = useBoolean()\n  const [isFocused, setFocused] = useBoolean()\n  const [eventSource, setEventSource] = useState<EventSource>()\n\n  const isInteractive = !(isDisabled || isReadOnly)\n\n  /**\n   * Enable the slider handle controlled and uncontrolled scenarios\n   */\n  const [computedValue, setValue] = useControllableState({\n    value: valueProp,\n    defaultValue: defaultValue ?? getDefaultValue(min, max),\n    onChange,\n  })\n\n  /**\n   * Slider uses DOM APIs to add and remove event listeners.\n   * Noticed some issues with React's synthetic events.\n   *\n   * We use `ref` to save the functions used to remove\n   * the event listeners.\n   *\n   * Ideally, we'll love to use pointer-events API but it is\n   * not fully supported in all browsers.\n   */\n  const cleanUpRef = useRef<Dict<Function>>({})\n\n  /**\n   * Constrain the value because it can't be less than min\n   * or greater than max\n   */\n  const value = clampValue(computedValue, min, max)\n  const prev = useRef<number>()\n\n  const reversedValue = max - value + min\n  const trackValue = isReversed ? reversedValue : value\n  const trackPercent = valueToPercent(trackValue, min, max)\n\n  const isVertical = orientation === \"vertical\"\n\n  /**\n   * Let's keep a reference to the slider track and thumb\n   */\n  const trackRef = useRef<any>(null)\n  const thumbRef = useRef<any>(null)\n  const rootRef = useRef<any>(null)\n\n  /**\n   * Generate unique ids for component parts\n   */\n  const [thumbId, trackId] = useIds(idProp, `slider-thumb`, `slider-track`)\n\n  /**\n   * Get relative value of slider from the event by tracking\n   * how far you clicked within the track to determine the value\n   */\n  const getValueFromPointer = useCallback(\n    (event) => {\n      if (!trackRef.current) return undefined\n\n      const trackRect = getBox(trackRef.current).borderBox\n      const { clientX, clientY } = event.touches?.[0] ?? event\n\n      const diff = isVertical\n        ? trackRect.bottom - clientY\n        : clientX - trackRect.left\n\n      const length = isVertical ? trackRect.height : trackRect.width\n      let percent = diff / length\n\n      if (isReversed) {\n        percent = 1 - percent\n      }\n\n      let nextValue = percentToValue(percent, min, max)\n\n      if (step) {\n        nextValue = parseFloat(roundValueToStep(nextValue, min, step))\n      }\n\n      nextValue = clampValue(nextValue, min, max)\n\n      return nextValue\n    },\n    [isVertical, isReversed, max, min, step],\n  )\n\n  const tenSteps = (max - min) / 10\n  const oneStep = step || (max - min) / 100\n\n  const constrain = useCallback(\n    (value: number) => {\n      // bail out if slider isn't interactive\n      if (!isInteractive) return\n      prev.current = value\n      value = parseFloat(roundValueToStep(value, min, oneStep))\n      value = clampValue(value, min, max)\n      setValue(value)\n    },\n    [oneStep, max, min, setValue, isInteractive],\n  )\n\n  const actions = useMemo(\n    () => ({\n      stepUp: (step = oneStep) => {\n        const next = isReversed ? value - step : value + step\n        constrain(next)\n      },\n      stepDown: (step = oneStep) => {\n        const next = isReversed ? value + step : value - step\n        constrain(next)\n      },\n      reset: () => constrain(defaultValue || 0),\n      stepTo: (value: number) => constrain(value),\n    }),\n    [constrain, isReversed, value, oneStep, defaultValue],\n  )\n\n  /**\n   * Keyboard interaction to ensure users can operate\n   * the slider using only their keyboard.\n   */\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      const eventKey = normalizeEventKey(event)\n      const keyMap: EventKeyMap = {\n        ArrowRight: () => actions.stepUp(),\n        ArrowUp: () => actions.stepUp(),\n        ArrowLeft: () => actions.stepDown(),\n        ArrowDown: () => actions.stepDown(),\n        PageUp: () => actions.stepUp(tenSteps),\n        PageDown: () => actions.stepDown(tenSteps),\n        Home: () => constrain(min),\n        End: () => constrain(max),\n      }\n\n      const action = keyMap[eventKey]\n\n      if (action) {\n        event.preventDefault()\n        event.stopPropagation()\n        setEventSource(\"keyboard\")\n        action(event)\n      }\n    },\n    [actions, constrain, max, min, tenSteps],\n  )\n\n  /**\n   * ARIA (Optional): To define a human readable representation of the value,\n   * we allow users pass aria-valuetext.\n   */\n  const valueText = getAriaValueText?.(value) ?? ariaValueText\n\n  /**\n   * Measure the dimensions of the thumb so\n   * we can center it within the track properly\n   */\n  const thumbBoxModel = useDimensions(thumbRef)\n  const thumbRect = thumbBoxModel?.borderBox ?? {\n    width: 0,\n    height: 0,\n  }\n\n  /**\n   * Compute styles for all component parts.\n   */\n  const thumbStyle: React.CSSProperties = {\n    position: \"absolute\",\n    userSelect: \"none\",\n    touchAction: \"none\",\n    ...orient({\n      orientation,\n      vertical: {\n        bottom: `calc(${trackPercent}% - ${thumbRect.height / 2}px)`,\n      },\n      horizontal: {\n        left: `calc(${trackPercent}% - ${thumbRect.width / 2}px)`,\n      },\n    }),\n  }\n\n  const rootStyle: React.CSSProperties = {\n    position: \"relative\",\n    touchAction: \"none\",\n    WebkitTapHighlightColor: \"rgba(0,0,0,0)\",\n    userSelect: \"none\",\n    outline: 0,\n    ...orient({\n      orientation,\n      vertical: {\n        paddingLeft: thumbRect.width / 2,\n        paddingRight: thumbRect.width / 2,\n      },\n      horizontal: {\n        paddingTop: thumbRect.height / 2,\n        paddingBottom: thumbRect.height / 2,\n      },\n    }),\n  }\n\n  const trackStyle: React.CSSProperties = {\n    position: \"absolute\",\n    ...orient({\n      orientation,\n      vertical: {\n        left: \"50%\",\n        transform: \"translateX(-50%)\",\n        height: \"100%\",\n      },\n      horizontal: {\n        top: \"50%\",\n        transform: \"translateY(-50%)\",\n        width: \"100%\",\n      },\n    }),\n  }\n\n  const innerTrackStyle: React.CSSProperties = {\n    ...trackStyle,\n    ...orient({\n      orientation,\n      vertical: isReversed\n        ? { height: `${100 - trackPercent}%`, top: 0 }\n        : { height: `${trackPercent}%`, bottom: 0 },\n      horizontal: isReversed\n        ? { width: `${100 - trackPercent}%`, right: 0 }\n        : { width: `${trackPercent}%`, left: 0 },\n    }),\n  }\n\n  useUpdateEffect(() => {\n    if (thumbRef.current && focusThumbOnChange) {\n      focus(thumbRef.current)\n    }\n  }, [value])\n\n  useUpdateEffect(() => {\n    const shouldUpdate =\n      !isDragging && eventSource !== \"keyboard\" && prev.current !== value\n\n    if (shouldUpdate) {\n      onChangeEnd?.(value)\n    }\n\n    if (eventSource === \"keyboard\") {\n      onChangeEnd?.(value)\n    }\n  }, [isDragging, onChangeEnd, value, eventSource])\n\n  const onMouseDown = useCallbackRef((event: MouseEvent) => {\n    /**\n     * Prevent update if it is right-click\n     */\n    if (isRightClick(event)) return\n\n    if (!isInteractive || !rootRef.current) return\n\n    setDragging.on()\n    prev.current = value\n    onChangeStart?.(value)\n\n    const doc = getOwnerDocument(rootRef.current)\n\n    const run = (event: MouseEvent) => {\n      const nextValue = getValueFromPointer(event)\n\n      if (nextValue != null) {\n        setEventSource(\"mouse\")\n        setValue(nextValue)\n      }\n    }\n\n    run(event)\n\n    doc?.addEventListener(\"mousemove\", run)\n\n    const clean = () => {\n      doc?.removeEventListener(\"mousemove\", run)\n      setDragging.off()\n    }\n\n    doc?.addEventListener(\"mouseup\", clean)\n    cleanUpRef.current.mouseup = () => {\n      doc?.removeEventListener(\"mouseup\", clean)\n    }\n  })\n\n  const onTouchStart = useCallbackRef((event: TouchEvent) => {\n    if (!isInteractive || !rootRef.current) return\n\n    // Prevent scrolling for touch events\n    event.preventDefault()\n\n    setDragging.on()\n    prev.current = value\n    onChangeStart?.(value)\n\n    const doc = getOwnerDocument(rootRef.current)\n\n    const run = (event: TouchEvent) => {\n      const nextValue = getValueFromPointer(event)\n\n      if (nextValue != null) {\n        setEventSource(\"touch\")\n        setValue(nextValue)\n      }\n    }\n\n    run(event)\n\n    doc?.addEventListener(\"touchmove\", run)\n\n    const clean = () => {\n      doc?.removeEventListener(\"touchmove\", run)\n      setDragging.off()\n    }\n\n    doc?.addEventListener(\"touchend\", clean)\n    doc?.addEventListener(\"touchcancel\", clean)\n\n    cleanUpRef.current.touchend = () => {\n      doc?.removeEventListener(\"touchend\", clean)\n    }\n\n    cleanUpRef.current.touchcancel = () => {\n      doc?.removeEventListener(\"touchcancel\", clean)\n    }\n  })\n\n  /**\n   * Remove all event handlers\n   */\n  const detach = () => {\n    Object.values(cleanUpRef.current).forEach((cleanup) => {\n      cleanup?.()\n    })\n    cleanUpRef.current = {}\n  }\n\n  /**\n   * Ensure we clean up listeners when slider unmounts\n   */\n  useUnmountEffect(detach)\n\n  useUpdateEffect(() => {\n    if (!isDragging) detach()\n  }, [isDragging])\n\n  cleanUpRef.current.mousedown = useEventListener(\n    \"mousedown\",\n    onMouseDown,\n    rootRef.current,\n  )\n\n  cleanUpRef.current.touchstart = useEventListener(\n    \"touchstart\",\n    onTouchStart,\n    rootRef.current,\n  )\n\n  const getRootProps: PropGetter = (props = {}, ref = null) => ({\n    ...props,\n    ...htmlProps,\n    ref: mergeRefs(ref, rootRef),\n    tabIndex: -1,\n    \"aria-disabled\": ariaAttr(isDisabled),\n    \"data-focused\": dataAttr(isFocused),\n    style: {\n      ...props.style,\n      ...rootStyle,\n    },\n  })\n\n  const getTrackProps: PropGetter = (props = {}, ref = null) => ({\n    ...props,\n    ref: mergeRefs(ref, trackRef),\n    id: trackId,\n    \"data-disabled\": dataAttr(isDisabled),\n    style: {\n      ...props.style,\n      ...trackStyle,\n    },\n  })\n\n  const getInnerTrackProps: PropGetter = (props = {}, ref = null) => ({\n    ...props,\n    ref,\n    style: {\n      ...props.style,\n      ...innerTrackStyle,\n    },\n  })\n\n  const getThumbProps: PropGetter = (props = {}, ref = null) => ({\n    ...props,\n    ref: mergeRefs(ref, thumbRef),\n    role: \"slider\",\n    tabIndex: 0,\n    id: thumbId,\n    \"data-active\": dataAttr(isDragging),\n    \"aria-valuetext\": valueText,\n    \"aria-valuemin\": min,\n    \"aria-valuemax\": max,\n    \"aria-valuenow\": value,\n    \"aria-orientation\": orientation,\n    \"aria-disabled\": ariaAttr(isDisabled),\n    \"aria-readonly\": ariaAttr(isReadOnly),\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabel ? undefined : ariaLabelledBy,\n    style: {\n      ...props.style,\n      ...thumbStyle,\n    },\n    onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown),\n    onFocus: callAllHandlers(props.onFocus, setFocused.on),\n    onBlur: callAllHandlers(props.onBlur, setFocused.off),\n  })\n\n  const getMarkerProps: PropGetter<any, { value?: any }> = (\n    props = {},\n    ref = null,\n  ) => {\n    const isInRange = !(props.value < min || props.value > max)\n    const isHighlighted = value >= props.value\n    const markerPercent = valueToPercent(props.value, min, max)\n\n    const markerStyle: React.CSSProperties = {\n      position: \"absolute\",\n      pointerEvents: \"none\",\n      ...orient({\n        orientation,\n        vertical: {\n          bottom: isReversed ? `${100 - markerPercent}%` : `${markerPercent}%`,\n        },\n        horizontal: {\n          left: isReversed ? `${100 - markerPercent}%` : `${markerPercent}%`,\n        },\n      }),\n    }\n\n    return {\n      ...props,\n      ref,\n      role: \"presentation\",\n      \"aria-hidden\": true,\n      \"data-disabled\": dataAttr(isDisabled),\n      \"data-invalid\": dataAttr(!isInRange),\n      \"data-highlighted\": dataAttr(isHighlighted),\n      style: {\n        ...props.style,\n        ...markerStyle,\n      },\n    }\n  }\n\n  const getInputProps: PropGetter<HTMLInputElement> = (\n    props = {},\n    ref = null,\n  ) => ({\n    ...props,\n    ref,\n    type: \"hidden\",\n    value,\n    name,\n  })\n\n  return {\n    state: {\n      value,\n      isFocused,\n      isDragging,\n    },\n    actions,\n    getRootProps,\n    getTrackProps,\n    getInnerTrackProps,\n    getThumbProps,\n    getMarkerProps,\n    getInputProps,\n  }\n}\n\nexport type UseSliderReturn = ReturnType<typeof useSlider>\n\nfunction orient(options: {\n  orientation: UseSliderProps[\"orientation\"]\n  vertical: CSSProperties\n  horizontal: CSSProperties\n}) {\n  const { orientation, vertical, horizontal } = options\n  return orientation === \"vertical\" ? vertical : horizontal\n}\n\n/**\n * The browser <input type=\"range\" /> calculates\n * the default value of a slider by using mid-point\n * between the min and the max.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/range\n */\nfunction getDefaultValue(min: number, max: number) {\n  return max < min ? min : min + (max - min) / 2\n}\n"]},"metadata":{},"sourceType":"module"}