{"ast":null,"code":"import { __assign } from 'tslib';\nimport { mix } from './mix.js';\nimport { hex, rgba, hsla } from 'style-value-types';\nimport { invariant } from 'hey-listen';\n\nvar mixLinearColor = function (from, to, v) {\n  var fromExpo = from * from;\n  var toExpo = to * to;\n  return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\n};\n\nvar colorTypes = [hex, rgba, hsla];\n\nvar getColorType = function (v) {\n  return colorTypes.find(function (type) {\n    return type.test(v);\n  });\n};\n\nvar notAnimatable = function (color) {\n  return \"'\" + color + \"' is not an animatable color. Use the equivalent color code instead.\";\n};\n\nvar mixColor = function (from, to) {\n  var fromColorType = getColorType(from);\n  var toColorType = getColorType(to);\n  invariant(!!fromColorType, notAnimatable(from));\n  invariant(!!toColorType, notAnimatable(to));\n  invariant(fromColorType.transform === toColorType.transform, \"Both colors must be hex/RGBA, OR both must be HSLA.\");\n\n  if (!fromColorType || !toColorType || fromColorType.transform !== toColorType.transform) {\n    return function (p) {\n      return \"\" + (p > 0 ? to : from);\n    };\n  }\n\n  var fromColor = fromColorType.parse(from);\n  var toColor = toColorType.parse(to);\n\n  var blended = __assign({}, fromColor);\n\n  var mixFunc = fromColorType === hsla ? mix : mixLinearColor;\n  return function (v) {\n    for (var key in blended) {\n      if (key !== \"alpha\") {\n        blended[key] = mixFunc(fromColor[key], toColor[key], v);\n      }\n    }\n\n    blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\n    return fromColorType.transform(blended);\n  };\n};\n\nexport { mixColor, mixLinearColor };","map":{"version":3,"names":["__assign","mix","hex","rgba","hsla","invariant","mixLinearColor","from","to","v","fromExpo","toExpo","Math","sqrt","max","colorTypes","getColorType","find","type","test","notAnimatable","color","mixColor","fromColorType","toColorType","transform","p","fromColor","parse","toColor","blended","mixFunc","key","alpha"],"sources":["/Users/AkamatsuTomoo/Work/sma/docker/frontend/node_modules/popmotion/dist/es/utils/mix-color.js"],"sourcesContent":["import { __assign } from 'tslib';\nimport { mix } from './mix.js';\nimport { hex, rgba, hsla } from 'style-value-types';\nimport { invariant } from 'hey-listen';\n\nvar mixLinearColor = function (from, to, v) {\n    var fromExpo = from * from;\n    var toExpo = to * to;\n    return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\n};\nvar colorTypes = [hex, rgba, hsla];\nvar getColorType = function (v) {\n    return colorTypes.find(function (type) { return type.test(v); });\n};\nvar notAnimatable = function (color) {\n    return \"'\" + color + \"' is not an animatable color. Use the equivalent color code instead.\";\n};\nvar mixColor = function (from, to) {\n    var fromColorType = getColorType(from);\n    var toColorType = getColorType(to);\n    invariant(!!fromColorType, notAnimatable(from));\n    invariant(!!toColorType, notAnimatable(to));\n    invariant(fromColorType.transform === toColorType.transform, \"Both colors must be hex/RGBA, OR both must be HSLA.\");\n    if (!fromColorType ||\n        !toColorType ||\n        fromColorType.transform !== toColorType.transform) {\n        return function (p) { return \"\" + (p > 0 ? to : from); };\n    }\n    var fromColor = fromColorType.parse(from);\n    var toColor = toColorType.parse(to);\n    var blended = __assign({}, fromColor);\n    var mixFunc = fromColorType === hsla ? mix : mixLinearColor;\n    return function (v) {\n        for (var key in blended) {\n            if (key !== \"alpha\") {\n                blended[key] = mixFunc(fromColor[key], toColor[key], v);\n            }\n        }\n        blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\n        return fromColorType.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,GAAT,QAAoB,UAApB;AACA,SAASC,GAAT,EAAcC,IAAd,EAAoBC,IAApB,QAAgC,mBAAhC;AACA,SAASC,SAAT,QAA0B,YAA1B;;AAEA,IAAIC,cAAc,GAAG,UAAUC,IAAV,EAAgBC,EAAhB,EAAoBC,CAApB,EAAuB;EACxC,IAAIC,QAAQ,GAAGH,IAAI,GAAGA,IAAtB;EACA,IAAII,MAAM,GAAGH,EAAE,GAAGA,EAAlB;EACA,OAAOI,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,GAAL,CAAS,CAAT,EAAYL,CAAC,IAAIE,MAAM,GAAGD,QAAb,CAAD,GAA0BA,QAAtC,CAAV,CAAP;AACH,CAJD;;AAKA,IAAIK,UAAU,GAAG,CAACb,GAAD,EAAMC,IAAN,EAAYC,IAAZ,CAAjB;;AACA,IAAIY,YAAY,GAAG,UAAUP,CAAV,EAAa;EAC5B,OAAOM,UAAU,CAACE,IAAX,CAAgB,UAAUC,IAAV,EAAgB;IAAE,OAAOA,IAAI,CAACC,IAAL,CAAUV,CAAV,CAAP;EAAsB,CAAxD,CAAP;AACH,CAFD;;AAGA,IAAIW,aAAa,GAAG,UAAUC,KAAV,EAAiB;EACjC,OAAO,MAAMA,KAAN,GAAc,sEAArB;AACH,CAFD;;AAGA,IAAIC,QAAQ,GAAG,UAAUf,IAAV,EAAgBC,EAAhB,EAAoB;EAC/B,IAAIe,aAAa,GAAGP,YAAY,CAACT,IAAD,CAAhC;EACA,IAAIiB,WAAW,GAAGR,YAAY,CAACR,EAAD,CAA9B;EACAH,SAAS,CAAC,CAAC,CAACkB,aAAH,EAAkBH,aAAa,CAACb,IAAD,CAA/B,CAAT;EACAF,SAAS,CAAC,CAAC,CAACmB,WAAH,EAAgBJ,aAAa,CAACZ,EAAD,CAA7B,CAAT;EACAH,SAAS,CAACkB,aAAa,CAACE,SAAd,KAA4BD,WAAW,CAACC,SAAzC,EAAoD,qDAApD,CAAT;;EACA,IAAI,CAACF,aAAD,IACA,CAACC,WADD,IAEAD,aAAa,CAACE,SAAd,KAA4BD,WAAW,CAACC,SAF5C,EAEuD;IACnD,OAAO,UAAUC,CAAV,EAAa;MAAE,OAAO,MAAMA,CAAC,GAAG,CAAJ,GAAQlB,EAAR,GAAaD,IAAnB,CAAP;IAAkC,CAAxD;EACH;;EACD,IAAIoB,SAAS,GAAGJ,aAAa,CAACK,KAAd,CAAoBrB,IAApB,CAAhB;EACA,IAAIsB,OAAO,GAAGL,WAAW,CAACI,KAAZ,CAAkBpB,EAAlB,CAAd;;EACA,IAAIsB,OAAO,GAAG9B,QAAQ,CAAC,EAAD,EAAK2B,SAAL,CAAtB;;EACA,IAAII,OAAO,GAAGR,aAAa,KAAKnB,IAAlB,GAAyBH,GAAzB,GAA+BK,cAA7C;EACA,OAAO,UAAUG,CAAV,EAAa;IAChB,KAAK,IAAIuB,GAAT,IAAgBF,OAAhB,EAAyB;MACrB,IAAIE,GAAG,KAAK,OAAZ,EAAqB;QACjBF,OAAO,CAACE,GAAD,CAAP,GAAeD,OAAO,CAACJ,SAAS,CAACK,GAAD,CAAV,EAAiBH,OAAO,CAACG,GAAD,CAAxB,EAA+BvB,CAA/B,CAAtB;MACH;IACJ;;IACDqB,OAAO,CAACG,KAAR,GAAgBhC,GAAG,CAAC0B,SAAS,CAACM,KAAX,EAAkBJ,OAAO,CAACI,KAA1B,EAAiCxB,CAAjC,CAAnB;IACA,OAAOc,aAAa,CAACE,SAAd,CAAwBK,OAAxB,CAAP;EACH,CARD;AASH,CAxBD;;AA0BA,SAASR,QAAT,EAAmBhB,cAAnB"},"metadata":{},"sourceType":"module"}